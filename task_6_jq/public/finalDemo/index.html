<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Banking System - Final Demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="../../styles/finalDemo.css" />
  </head>
  <body>
    <!-- =================================== Nav Bar ===================================  -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">MyBank</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <!-- ms-auto thi home tab right side vai jase -->
            <li class="nav-item">
              <a class="nav-link active" href="#">Home</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- =================================== Main sec ===================================  -->

    <div class="container my-5 main-sec">
      <h1 class="text-center mb-4">Welcome to MyBank</h1>
      <p class="text-center mb-4">
        Manage your account easily with the options below.
      </p>

      <!-- =================================== row-1 ===================================  -->
      <div class="row g-3">
        <!-- ============================ Open New Account ============================= -->
        <div class="col-md-4">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-person-plus fs-1 text-primary"></i>
              <!-- fs-1 aa h1 size no icon kar dese -->
              <h5 class="card-title mt-3">Open New Account</h5>
              <p class="card-text">Create a new banking account easily.</p>

              <button
                class="btn btn-primary"
                data-bs-toggle="modal"
                data-bs-target="#openAccountModal"
              >
                Open New Account
              </button>
            </div>
          </div>
        </div>

        <!-- ============================== Deposit Money ===============================-->
        <div class="col-md-4">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-wallet2 fs-1 text-success"></i>
              <h5 class="card-title mt-3">Deposit Money</h5>
              <p class="card-text">Add funds to your account quickly.</p>
              <button
                class="btn btn-success"
                data-bs-toggle="modal"
                data-bs-target="#depositModal"
              >
                Deposit Money
              </button>
            </div>
          </div>
        </div>

        <!-- ===========================  Withdraw Money ===============================-->
        <div class="col-md-4">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-cash-stack fs-1 text-danger"></i>
              <h5 class="card-title mt-3">Withdraw Money</h5>
              <p class="card-text">Withdraw money securely.</p>
              <button
                class="btn btn-danger"
                data-bs-toggle="modal"
                data-bs-target="#withdrawModal"
              >
                Withdraw Money
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- =================================== row-2 ===================================  -->

      <div class="row g-3 mt-1">
        <!-- ============================ Transfer Money ============================== -->
        <div class="col-md-4">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-arrow-left-right fs-1 text-warning"></i>
              <h5 class="card-title mt-3">Transfer Money</h5>
              <p class="card-text">Send money to other accounts.</p>
              <button
                class="btn btn-warning text-light"
                data-bs-toggle="modal"
                data-bs-target="#transferModal"
              >
                Transfer Money
              </button>
            </div>
          </div>
        </div>

        <!--=========================== Transaction History =============================-->
        <div class="col-md-4">
          <div class="card text-center">
            <div class="card-body">
              <i class="bi bi-list-task fs-1 text-info"></i>
              <h5 class="card-title mt-3">Transaction History</h5>
              <p class="card-text">View all your past transactions.</p>
              <button
                class="btn btn-info text-light"
                data-bs-toggle="modal"
                data-bs-target="#historyModal"
              >
                View Transaction History
              </button>
            </div>
          </div>
        </div>

        <!--============================== USD to INR =================================-->
        <div class="col-md-4">
          <div class="card text-center">
            <div class="card-body">
              <i class="fs-1">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="bi bi-currency-exchange fs-1 text-secondary"
                  fill="currentColor"
                  class="bi bi-currency-exchange"
                  viewBox="0 0 16 16"
                  height="33.33px"
                  width="33.33px"
                >
                  <path
                    d="M0 5a5 5 0 0 0 4.027 4.905 6.5 6.5 0 0 1 .544-2.073C3.695 7.536 3.132 6.864 3 5.91h-.5v-.426h.466V5.05q-.001-.07.004-.135H2.5v-.427h.511C3.236 3.24 4.213 2.5 5.681 2.5c.316 0 .59.031.819.085v.733a3.5 3.5 0 0 0-.815-.082c-.919 0-1.538.466-1.734 1.252h1.917v.427h-1.98q-.004.07-.003.147v.422h1.983v.427H3.93c.118.602.468 1.03 1.005 1.229a6.5 6.5 0 0 1 4.97-3.113A5.002 5.002 0 0 0 0 5m16 5.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0m-7.75 1.322c.069.835.746 1.485 1.964 1.562V14h.54v-.62c1.259-.086 1.996-.74 1.996-1.69 0-.865-.563-1.31-1.57-1.54l-.426-.1V8.374c.54.06.884.347.966.745h.948c-.07-.804-.779-1.433-1.914-1.502V7h-.54v.629c-1.076.103-1.808.732-1.808 1.622 0 .787.544 1.288 1.45 1.493l.358.085v1.78c-.554-.08-.92-.376-1.003-.787zm1.96-1.895c-.532-.12-.82-.364-.82-.732 0-.41.311-.719.824-.809v1.54h-.005zm.622 1.044c.645.145.943.38.943.796 0 .474-.37.8-1.02.86v-1.674z"
                  />
                </svg>
              </i>

              <h5 class="card-title mt-3">USD to INR Rate</h5>
              <p class="card-text">
                Check the current USD to INR exchange rate.
              </p>
              <button
                id="checkUSDButton"
                class="btn btn-secondary"
                data-bs-toggle="modal"
                data-bs-target="#exchangeRateModal"
              >
                Check USD to INR Rate
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ================================ Footer ======================================-->
    <footer class="bg-dark text-light text-center py-3">
      <p class="mb-0">Made with ðŸ’– by KPD</p>
    </footer>

    <!-- =================================================================================-->
    <!-- ============================= Following are modals ==============================-->
    <!-- =================================================================================-->
    <!-- ============================= Open Account Modal ================================-->
    <div class="modal fade" id="openAccountModal" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Open New Account</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="openAccountForm">
              <div class="mb-3">
                <label for="accountHolderName" class="form-label"
                  >Full Name</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="accountHolderName"
                  placeholder="Enter your full name"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email Address</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  placeholder="Enter your email"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="initialBalance" class="form-label"
                  >Initial Deposit</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="initialBalance"
                  placeholder="Enter amount"
                  required
                />
              </div>
              <button type="submit" class="btn btn-primary w-100">
                Create Account
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- ============================ Deposit Money Modal =============================-->
    <div class="modal fade" id="depositModal" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Deposit Money</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="depositForm">
              <div class="mb-3">
                <label for="depositAccountNumber" class="form-label"
                  >Account Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="depositAccountNumber"
                  placeholder="Enter your account number"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="depositAmount" class="form-label"
                  >Deposit Amount</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="depositAmount"
                  placeholder="Enter amount"
                  required
                />
              </div>
              <button type="submit" class="btn btn-success w-100">
                Deposit
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--================================  Withdraw Money Modal ===========================-->
    <div class="modal fade" id="withdrawModal" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Withdraw Money</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="withdrawForm">
              <div class="mb-3">
                <label for="withdrawAccountNumber" class="form-label"
                  >Account Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="withdrawAccountNumber"
                  placeholder="Enter your account number"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="withdrawAmount" class="form-label"
                  >Withdraw Amount</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="withdrawAmount"
                  placeholder="Enter amount"
                  required
                />
              </div>
              <button type="submit" class="btn btn-danger w-100">
                Withdraw
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- ===============================  Transfer Money Modal =========================== -->
    <div class="modal fade" id="transferModal" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Transfer Money</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <form id="transferForm">
              <div class="mb-3">
                <label for="sourceAccountNumber" class="form-label"
                  >From Account Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="sourceAccountNumber"
                  placeholder="Enter sender's account number"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="destinationAccountNumber" class="form-label"
                  >To Account Number</label
                >
                <input
                  type="text"
                  class="form-control"
                  id="destinationAccountNumber"
                  placeholder="Enter recipient's account number"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="transferAmount" class="form-label"
                  >Transfer Amount</label
                >
                <input
                  type="number"
                  class="form-control"
                  id="transferAmount"
                  placeholder="Enter amount"
                  required
                />
              </div>
              <button type="submit" class="btn btn-warning w-100">
                Transfer
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- ========================= Transaction History Modal ========================= -->
    <div class="modal fade" id="historyModal" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Account History</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <!--============== Account table for general account history ===============-->
            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th>Account Number</th>
                  <th>Account Holder Name</th>
                  <th>Balance</th>
                  <th>All Transactions</th>
                </tr>
              </thead>
              <tbody id="accountsTableBody">
                <!--============== rows managed from the backend [jq] ==================== -->
              </tbody>
            </table>

            <!--======= Transaction History Modal for specific account (Nested) ===========-->
            <div
              class="modal fade"
              id="transactionHistoryModal"
              aria-hidden="true"
            >
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Transaction History</h5>

                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>
                  <div class="modal-body">
                    <!-- ================== Transaction table ===================== -->
                    <table class="table table-striped table-bordered">
                      <thead>
                        <tr>
                          <th>Type</th>
                          <th>Amount</th>
                          <th>Date</th>
                          <th>Balance After Transaction</th>
                        </tr>
                      </thead>
                      <tbody id="transactionHistoryModalBody">
                        <!-- Transaction rows will be dynamically generated here -->
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--  ======== Modal for Showing the Exchange Rates and Conversion  ===============-->
    <div class="modal fade" id="exchangeRateModal" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">USD Exchange Rates</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <!--==============  Display Exchange Rates Info using ajax api ==============-->
            <p id="rateInfo">Loading exchange rates...</p>

            <!--=================== INR to USD Conversion Input ========================= -->
            <div class="mb-3">
              <label for="inrAmount" class="form-label">Amount in INR</label>
              <input
                type="number"
                class="form-control"
                id="inrAmount"
                placeholder="Enter amount in INR"
              />
            </div>
            <button id="convertButton" class="btn btn-success">
              Convert to USD
            </button>

            <!-- ===============  Converted USD Amount for above field's ip ============= -->
            <div class="mt-3">
              <p id="convertedAmount">Converted Amount:</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ================== all scripts used in this final demo project ================== -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../../src/finalDemo/Main.js"></script>
  </body>
</html>
